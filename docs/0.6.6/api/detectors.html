<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Detection Algorithms &#8212; PySceneDetect 0.6.5.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pyscenedetect.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Backends" href="backends.html" />
    <link rel="prev" title="scenedetect ðŸŽ¬ Package" href="../api.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-scenedetect.detectors">
<span id="detection-algorithms"></span><span id="scenedetect-detectors"></span><h1>Detection Algorithms<a class="headerlink" href="#module-scenedetect.detectors" title="Permalink to this heading">Â¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">scenedetect.detectors</span></code> Module</p>
<p>This module contains the following scene detection algorithms:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#module-scenedetect.detectors.content_detector" title="scenedetect.detectors.content_detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ContentDetector</span></code></a>:
Detects shot changes using weighted average of pixel changes in the HSV colorspace.</p></li>
<li><p><a class="reference internal" href="#module-scenedetect.detectors.threshold_detector" title="scenedetect.detectors.threshold_detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ThresholdDetector</span></code></a>:
Detects slow transitions using average pixel intensity in RGB (fade in/fade out)</p></li>
<li><p><a class="reference internal" href="#module-scenedetect.detectors.adaptive_detector" title="scenedetect.detectors.adaptive_detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AdaptiveDetector</span></code></a>:
Performs rolling average on differences in HSV colorspace. In some cases, this can improve
handling of fast motion.</p></li>
<li><p><a class="reference internal" href="#module-scenedetect.detectors.histogram_detector" title="scenedetect.detectors.histogram_detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">HistogramDetector</span></code></a>:
Uses histogram differences for Y channel in YUV space to find fast cuts.</p></li>
<li><p><a class="reference internal" href="#module-scenedetect.detectors.hash_detector" title="scenedetect.detectors.hash_detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">HashDetector</span></code></a>:
Uses perceptual hashing to calculate similarity between adjacent frames.</p></li>
</ul>
</div></blockquote>
<p>Detection algorithms are created by implementing the
<a class="reference internal" href="scene_detector.html#scenedetect.scene_detector.SceneDetector" title="scenedetect.scene_detector.SceneDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">SceneDetector</span></code></a> interface. Detectors are
typically attached to a <a class="reference internal" href="scene_manager.html#scenedetect.scene_manager.SceneManager" title="scenedetect.scene_manager.SceneManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">SceneManager</span></code></a> when
processing videos, however they can also be used to process frames directly.</p>
<span class="target" id="module-scenedetect.detectors.adaptive_detector"></span><p><a class="reference internal" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector" title="scenedetect.detectors.adaptive_detector.AdaptiveDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdaptiveDetector</span></code></a> compares the difference in content between adjacent frames similar
to <cite>ContentDetector</cite> except the threshold isnâ€™t fixed, but is a rolling average of adjacent frame
changes. This can help mitigate false detections in situations such as fast camera motions.</p>
<p>This detector is available from the command-line as the <cite>detect-adaptive</cite> command.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenedetect.detectors.adaptive_detector.</span></span><span class="sig-name descname"><span class="pre">AdaptiveDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adaptive_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scene_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_content_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Components(delta_hue=1.0,</span> <span class="pre">delta_sat=1.0,</span> <span class="pre">delta_lum=1.0,</span> <span class="pre">delta_edges=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">luma_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_delta_hsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Two-pass detector that calculates frame scores with ContentDetector, and then applies
a rolling average when processing the result that can help mitigate false detections
in situations such as camera movement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adaptive_threshold</strong> (<em>float</em>) â€“ Threshold (float) that score ratio must exceed to trigger a
new scene (see frame metric adaptive_ratio in stats file).</p></li>
<li><p><strong>min_scene_len</strong> (<em>int</em>) â€“ Once a cut is detected, this many frames must pass before a new one can
be added to the scene list. Can be an int or FrameTimecode type.</p></li>
<li><p><strong>window_width</strong> (<em>int</em>) â€“ Size of window (number of frames) before and after each frame to
average together in order to detect deviations from the mean. Must be at least 1.</p></li>
<li><p><strong>min_content_val</strong> (<em>float</em>) â€“ Minimum threshold (float) that the content_val must exceed in order to
register as a new scene. This is calculated the same way that <cite>detect-content</cite>
calculates frame score based on <cite>weights</cite>/<cite>luma_only</cite>/<cite>kernel_size</cite>.</p></li>
<li><p><strong>weights</strong> (<a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector.Components" title="scenedetect.detectors.content_detector.ContentDetector.Components"><em>Components</em></a>) â€“ Weight to place on each component when calculating frame score
(<cite>content_val</cite> in a statsfile, the value <cite>threshold</cite> is compared against).
If omitted, the default ContentDetector weights are used.</p></li>
<li><p><strong>luma_only</strong> (<em>bool</em>) â€“ If True, only considers changes in the luminance channel of the video.
Equivalent to specifying <cite>weights</cite> as <code class="xref py py-data docutils literal notranslate"><span class="pre">ContentDetector.LUMA_ONLY</span></code>.
Overrides <cite>weights</cite> if both are set.</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em><em> | </em><em>None</em>) â€“ Size of kernel to use for post edge detection filtering. If None,
automatically set based on video resolution.</p></li>
<li><p><strong>video_manager</strong> â€“ [DEPRECATED] DO NOT USE. For backwards compatibility only.</p></li>
<li><p><strong>min_delta_hsv</strong> (<em>float</em><em> | </em><em>None</em>) â€“ [DEPRECATED] DO NOT USE. Use <cite>min_content_val</cite> instead.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.get_content_val">
<span class="sig-name descname"><span class="pre">get_content_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.get_content_val" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the average content change for a frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>frame_num</strong> (<em>int</em>) â€“ </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.get_metrics">
<span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.get_metrics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Combines base ContentDetector metric keys with the AdaptiveDetector one.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_unused_frame_num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.post_process" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Not required for AdaptiveDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_unused_frame_num</strong> (<em>int</em>) â€“ </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.process_frame">
<span class="sig-name descname"><span class="pre">process_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.process_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Process the next frame. <cite>frame_num</cite> is assumed to be sequential.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_num</strong> (<em>int</em>) â€“ Frame number of frame that is being passed. Can start from any value
but must remain sequential.</p></li>
<li><p><strong>frame_img</strong> (<em>numpy.ndarray</em><em> or </em><em>None</em>) â€“ Video frame corresponding to <cite>frame_img</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of frames where scene cuts have been detected. There may be 0
or more frames in the list, and not necessarily the same as frame_num.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.stats_manager_required">
<span class="sig-name descname"><span class="pre">stats_manager_required</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.stats_manager_required" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Not required for AdaptiveDetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenedetect.detectors.adaptive_detector.AdaptiveDetector.event_buffer_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">event_buffer_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector.event_buffer_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of frames any detected cuts will be behind the current frame due to buffering.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-scenedetect.detectors.content_detector"></span><p><a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector" title="scenedetect.detectors.content_detector.ContentDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContentDetector</span></code></a> compares the difference in content between adjacent frames against a
set threshold/score, which if exceeded, triggers a scene cut.</p>
<p>This detector is available from the command-line as the <cite>detect-content</cite> command.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenedetect.detectors.content_detector.</span></span><span class="sig-name descname"><span class="pre">ContentDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">27.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scene_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Components(delta_hue=1.0,</span> <span class="pre">delta_sat=1.0,</span> <span class="pre">delta_lum=1.0,</span> <span class="pre">delta_edges=0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">luma_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Mode.MERGE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Detects fast cuts using changes in colour and intensity between frames.</p>
<p>The difference is calculated in the HSV color space, and compared against a set threshold to
determine when a fast cut has occurred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) â€“ Threshold the average change in pixel intensity must exceed to trigger a cut.</p></li>
<li><p><strong>min_scene_len</strong> (<em>int</em>) â€“ Once a cut is detected, this many frames must pass before a new one can
be added to the scene list. Can be an int or FrameTimecode type.</p></li>
<li><p><strong>weights</strong> (<a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector.Components" title="scenedetect.detectors.content_detector.ContentDetector.Components"><em>ContentDetector.Components</em></a>) â€“ Weight to place on each component when calculating frame score
(<cite>content_val</cite> in a statsfile, the value <cite>threshold</cite> is compared against).</p></li>
<li><p><strong>luma_only</strong> (<em>bool</em>) â€“ If True, only considers changes in the luminance channel of the video.
Equivalent to specifying <cite>weights</cite> as <code class="xref py py-data docutils literal notranslate"><span class="pre">ContentDetector.LUMA_ONLY</span></code>.
Overrides <cite>weights</cite> if both are set.</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em><em> | </em><em>None</em>) â€“ Size of kernel for expanding detected edges. Must be odd integer
greater than or equal to 3. If None, automatically set using video resolution.</p></li>
<li><p><strong>filter_mode</strong> (<a class="reference internal" href="scene_detector.html#scenedetect.scene_detector.FlashFilter.Mode" title="scenedetect.scene_detector.FlashFilter.Mode"><em>Mode</em></a>) â€“ Mode to use when filtering cuts to meet <cite>min_scene_len</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.Components">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta_hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_lum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.Components" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Components that make up a frameâ€™s score, and their default values.</p>
<p>Create new instance of Components(delta_hue, delta_sat, delta_lum, delta_edges)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delta_hue</strong> (<em>float</em>) â€“ </p></li>
<li><p><strong>delta_sat</strong> (<em>float</em>) â€“ </p></li>
<li><p><strong>delta_lum</strong> (<em>float</em>) â€“ </p></li>
<li><p><strong>delta_edges</strong> (<em>float</em>) â€“ </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.Components.delta_edges">
<span class="sig-name descname"><span class="pre">delta_edges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.Components.delta_edges" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Difference between calculated edges of adjacent frames.</p>
<p>Edge differences are typically larger than the other components, so the detection
threshold may need to be adjusted accordingly.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.Components.delta_hue">
<span class="sig-name descname"><span class="pre">delta_hue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.Components.delta_hue" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Difference between pixel hue values of adjacent frames.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.Components.delta_lum">
<span class="sig-name descname"><span class="pre">delta_lum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.Components.delta_lum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Difference between pixel luma (brightness) values of adjacent frames.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.Components.delta_sat">
<span class="sig-name descname"><span class="pre">delta_sat</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.Components.delta_sat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Difference between pixel saturation values of adjacent frames.</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.get_metrics">
<span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.get_metrics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get Metrics:  Get a list of all metric names/keys used by the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings of frame metric key names that will be used by
the detector when a StatsManager is passed to process_frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.process_frame">
<span class="sig-name descname"><span class="pre">process_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.process_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Process the next frame. <cite>frame_num</cite> is assumed to be sequential.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_num</strong> (<em>int</em>) â€“ Frame number of frame that is being passed. Can start from any value
but must remain sequential.</p></li>
<li><p><strong>frame_img</strong> (<em>numpy.ndarray</em><em> or </em><em>None</em>) â€“ Video frame corresponding to <cite>frame_img</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of frames where scene cuts have been detected. There may be 0
or more frames in the list, and not necessarily the same as frame_num.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.DEFAULT_COMPONENT_WEIGHTS">
<span class="sig-name descname"><span class="pre">DEFAULT_COMPONENT_WEIGHTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Components(delta_hue=1.0,</span> <span class="pre">delta_sat=1.0,</span> <span class="pre">delta_lum=1.0,</span> <span class="pre">delta_edges=0.0)</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.DEFAULT_COMPONENT_WEIGHTS" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Default component weights. Actual default values are specified in <a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector.Components" title="scenedetect.detectors.content_detector.ContentDetector.Components"><code class="xref py py-class docutils literal notranslate"><span class="pre">Components</span></code></a>
to allow adding new components without breaking existing usage.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.FRAME_SCORE_KEY">
<span class="sig-name descname"><span class="pre">FRAME_SCORE_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'content_val'</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.FRAME_SCORE_KEY" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Key in statsfile representing the final frame score after weighed by specified components.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.LUMA_ONLY_WEIGHTS">
<span class="sig-name descname"><span class="pre">LUMA_ONLY_WEIGHTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Components(delta_hue=0.0,</span> <span class="pre">delta_sat=0.0,</span> <span class="pre">delta_lum=1.0,</span> <span class="pre">delta_edges=0.0)</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.LUMA_ONLY_WEIGHTS" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Component weights to use if <cite>luma_only</cite> is set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.METRIC_KEYS">
<span class="sig-name descname"><span class="pre">METRIC_KEYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['content_val',</span> <span class="pre">'delta_hue',</span> <span class="pre">'delta_sat',</span> <span class="pre">'delta_lum',</span> <span class="pre">'delta_edges']</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.METRIC_KEYS" title="Permalink to this definition">Â¶</a></dt>
<dd><p>All statsfile keys this detector produces.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenedetect.detectors.content_detector.ContentDetector.event_buffer_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">event_buffer_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#scenedetect.detectors.content_detector.ContentDetector.event_buffer_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The amount of frames a given event can be buffered for, in time. Represents maximum
amount any event can be behind <cite>frame_number</cite> in the result of <a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector.process_frame" title="scenedetect.detectors.content_detector.ContentDetector.process_frame"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_frame()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-scenedetect.detectors.hash_detector"></span><p><code class="docutils literal notranslate"><span class="pre">scenedetect.detectors.hash_detector</span></code> Module</p>
<p>This module implements the <a class="reference internal" href="#scenedetect.detectors.hash_detector.HashDetector" title="scenedetect.detectors.hash_detector.HashDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">HashDetector</span></code></a>, which calculates a hash
value for each from of a video using a perceptual hashing algorithm. Then, the
differences in hash value between frames is calculated. If this difference
exceeds a set threshold, a scene cut is triggered.</p>
<p>This detector is available from the command-line interface by using the
<cite>detect-hash</cite> command.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.hash_detector.HashDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenedetect.detectors.hash_detector.</span></span><span class="sig-name descname"><span class="pre">HashDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.395</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowpass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scene_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.hash_detector.HashDetector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Detects cuts using a perceptual hashing algorithm. Applies a direct cosine transform (DCT)
and lowpass filter, followed by binary thresholding on the median. See references below:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.hackerfactor.com/blog/index.php?/archives/432-Looks-Like-It.html">https://www.hackerfactor.com/blog/index.php?/archives/432-Looks-Like-It.html</a></p></li>
<li><p><a class="reference external" href="https://github.com/JohannesBuchner/imagehash">https://github.com/JohannesBuchner/imagehash</a></p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) â€“ Value from 0.0 and 1.0 representing the relative hamming distance between
the perceptual hashes of adjacent frames. A distance of 0 means the image is the same,
and 1 means no correlation. Smaller threshold values thus require more correlation,
making the detector more sensitive. The hamming distance is divided by <cite>size</cite> x <cite>size</cite>
before comparing to <cite>threshold</cite> for normalization.</p></li>
<li><p><strong>size</strong> (<em>int</em>) â€“ Size of square of low frequency data to use for the DCT</p></li>
<li><p><strong>lowpass</strong> (<em>int</em>) â€“ How much high frequency information to filter from the DCT. A value of 2 means
keep lower 1/2 of the frequency data, 4 means only keep 1/4, etcâ€¦</p></li>
<li><p><strong>min_scene_len</strong> (<em>int</em>) â€“ Once a cut is detected, this many frames must pass before a new one can
be added to the scene list. Can be an int or FrameTimecode type.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.hash_detector.HashDetector.get_metrics">
<span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.hash_detector.HashDetector.get_metrics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get Metrics:  Get a list of all metric names/keys used by the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings of frame metric key names that will be used by
the detector when a StatsManager is passed to process_frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.hash_detector.HashDetector.hash_frame">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hash_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.hash_detector.HashDetector.hash_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calculates the perceptual hash of a frame and returns it. Based on phash from
<a class="reference external" href="https://github.com/JohannesBuchner/imagehash">https://github.com/JohannesBuchner/imagehash</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ndarray</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.hash_detector.HashDetector.process_frame">
<span class="sig-name descname"><span class="pre">process_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.hash_detector.HashDetector.process_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Similar to ContentDetector, but using a perceptual hashing algorithm
to calculate a hash for each frame and then calculate a hash difference
frame to frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_num</strong> (<em>int</em>) â€“ Frame number of frame that is being passed.</p></li>
<li><p><strong>frame_img</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) â€“ Decoded frame image (numpy.ndarray) to perform scene
detection on. Can be None <em>only</em> if the self.is_processing_required() method
(inhereted from the base SceneDetector class) returns True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of frames where scene cuts have been detected. There may be 0
or more frames in the list, and not necessarily the same as frame_num.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-scenedetect.detectors.histogram_detector"></span><p><a class="reference internal" href="#scenedetect.detectors.histogram_detector.HistogramDetector" title="scenedetect.detectors.histogram_detector.HistogramDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistogramDetector</span></code></a> compares the difference in the YUV histograms of subsequent
frames. If the difference exceeds a given threshold, a cut is detected.</p>
<p>This detector is available from the command-line as the <cite>detect-hist</cite> command.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.histogram_detector.HistogramDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenedetect.detectors.histogram_detector.</span></span><span class="sig-name descname"><span class="pre">HistogramDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scene_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.histogram_detector.HistogramDetector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compares the difference in the Y channel of YUV histograms for adjacent frames. When the
difference exceeds a given threshold, a cut is detected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) â€“ maximum relative difference between 0.0 and 1.0 that the histograms can
differ. Histograms are calculated on the Y channel after converting the frame to
YUV, and normalized based on the number of bins. Higher dicfferences imply greater
change in content, so larger threshold values are less sensitive to cuts.</p></li>
<li><p><strong>bins</strong> (<em>int</em>) â€“ Number of bins to use for the histogram.</p></li>
<li><p><strong>min_scene_len</strong> (<em>int</em>) â€“ Once a cut is detected, this many frames must pass before a new one can
be added to the scene list. Can be an int or FrameTimecode type.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.histogram_detector.HistogramDetector.calculate_histogram">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.histogram_detector.HistogramDetector.calculate_histogram" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calculates and optionally normalizes the histogram of the luma (Y) channel of an image
converted from BGR to YUV color space.</p>
<p>This function extracts the Y channel from the given BGR image, computes its histogram with
the specified number of bins, and optionally normalizes this histogram to have a sum of one
across all bins.</p>
<section id="args">
<h2>Args:<a class="headerlink" href="#args" title="Permalink to this heading">Â¶</a></h2>
<dl class="simple">
<dt>frame_img<span class="classifier">np.ndarray</span></dt><dd><p>The input image in BGR color space, assumed to have shape (height, width, 3)
where the last dimension represents the BGR channels.</p>
</dd>
<dt>bins<span class="classifier">int, optional (default=256)</span></dt><dd><p>The number of bins to use for the histogram.</p>
</dd>
<dt>normalize<span class="classifier">bool, optional (default=True)</span></dt><dd><p>A boolean flag that determines whether the histogram should be normalized
such that the sum of all histogram bins equals 1.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Permalink to this heading">Â¶</a></h2>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>A 1D numpy array of length equal to <cite>bins</cite>, representing the histogram of the luma
channel. Each element in the array represents the count (or frequency) of a particular
luma value in the image. If normalized, these values represent the relative frequency.</p>
</dd>
</dl>
</section>
<section id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this heading">Â¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;path_to_image.jpg&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hist</span> <span class="o">=</span> <span class="n">calculate_histogram</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hist</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="go">(256,)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_img</strong> (<em>ndarray</em>) â€“ </p></li>
<li><p><strong>bins</strong> (<em>int</em>) â€“ </p></li>
<li><p><strong>normalize</strong> (<em>bool</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>ndarray</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.histogram_detector.HistogramDetector.get_metrics">
<span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.histogram_detector.HistogramDetector.get_metrics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get Metrics:  Get a list of all metric names/keys used by the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings of frame metric key names that will be used by
the detector when a StatsManager is passed to process_frame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.histogram_detector.HistogramDetector.process_frame">
<span class="sig-name descname"><span class="pre">process_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.histogram_detector.HistogramDetector.process_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the histogram of the luma channel of the frame image and compares it with the
histogram of the luma channel of the previous frame. If the difference between the histograms
exceeds the threshold, a scene cut is detected.
Histogram difference is computed using the correlation metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_num</strong> (<em>int</em>) â€“ Frame number of frame that is being passed.</p></li>
<li><p><strong>frame_img</strong> (<em>ndarray</em>) â€“ Decoded frame image (numpy.ndarray) to perform scene
detection on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of frames where scene cuts have been detected. There may be 0
or more frames in the list, and not necessarily the same as frame_num.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[int]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-scenedetect.detectors.threshold_detector"></span><p><a class="reference internal" href="#scenedetect.detectors.threshold_detector.ThresholdDetector" title="scenedetect.detectors.threshold_detector.ThresholdDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ThresholdDetector</span></code></a> uses a set intensity as a threshold to detect cuts, which are
triggered when the average pixel intensity exceeds or falls below this threshold.</p>
<p>This detector is available from the command-line as the <cite>detect-threshold</cite> command.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenedetect.detectors.threshold_detector.</span></span><span class="sig-name descname"><span class="pre">ThresholdDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scene_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fade_bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_final_scene</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Method.FLOOR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Detects fast cuts/slow fades in from and out to a given threshold level.</p>
<p>Detects both fast cuts and slow fades so long as an appropriate threshold
is chosen (especially taking into account the minimum grey/black level).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) â€“ 8-bit intensity value that each pixel value (R, G, and B)
must be &lt;= to in order to trigger a fade in/out.</p></li>
<li><p><strong>min_scene_len</strong> (<em>int</em>) â€“ Once a cut is detected, this many frames must pass before a new one can
be added to the scene list. Can be an int or FrameTimecode type.</p></li>
<li><p><strong>fade_bias</strong> (<em>float</em>) â€“ Float between -1.0 and +1.0 representing the percentage of
timecode skew for the start of a scene (-1.0 causing a cut at the
fade-to-black, 0.0 in the middle, and +1.0 causing the cut to be
right at the position where the threshold is passed).</p></li>
<li><p><strong>add_final_scene</strong> (<em>bool</em>) â€“ Boolean indicating if the video ends on a fade-out to
generate an additional scene at this timecode.</p></li>
<li><p><strong>method</strong> (<a class="reference internal" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.Method" title="scenedetect.detectors.threshold_detector.ThresholdDetector.Method"><em>Method</em></a>) â€“ How to treat <cite>threshold</cite> when detecting fade events.</p></li>
<li><p><strong>block_size</strong> â€“ [DEPRECATED] DO NOT USE. For backwards compatibility.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.Method">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.Method" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Method for ThresholdDetector to use when comparing frame brightness to the threshold.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.Method.CEILING">
<span class="sig-name descname"><span class="pre">CEILING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.Method.CEILING" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Fade out happens when frame brightness rises above threshold.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.Method.FLOOR">
<span class="sig-name descname"><span class="pre">FLOOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.Method.FLOOR" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Fade out happens when frame brightness falls below threshold.</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.get_metrics">
<span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.get_metrics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get Metrics:  Get a list of all metric names/keys used by the detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings of frame metric key names that will be used by
the detector when a StatsManager is passed to process_frame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.post_process" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes a final scene cut if the last detected fade was a fade-out.</p>
<p>Only writes the scene cut if add_final_scene is true, and the last fade
that was detected was a fade-out.  There is no bias applied to this cut
(since there is no corresponding fade-in) so it will be located at the
exact frame where the fade-out crossed the detection threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>frame_num</strong> (<em>int</em>) â€“ </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenedetect.detectors.threshold_detector.ThresholdDetector.process_frame">
<span class="sig-name descname"><span class="pre">process_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_img</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scenedetect.detectors.threshold_detector.ThresholdDetector.process_frame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Process the next frame. <cite>frame_num</cite> is assumed to be sequential.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_num</strong> (<em>int</em>) â€“ Frame number of frame that is being passed. Can start from any value
but must remain sequential.</p></li>
<li><p><strong>frame_img</strong> (<em>numpy.ndarray</em><em> or </em><em>None</em>) â€“ Video frame corresponding to <cite>frame_img</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of frames where scene cuts have been detected. There may be 0
or more frames in the list, and not necessarily the same as frame_num.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ty.List[int]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../api.html" title="Previous document"><code class="docutils literal notranslate"><span class="pre">scenedetect</span></code> ðŸŽ¬ Package</a>
        </li>
        <li>
          <a href="backends.html" title="Next document">Backends</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/pyscenedetect_logo.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">Version: [0.6.5.2]</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Breakthrough&repo=PySceneDetect&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Command-Line Interface:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli.html"><code class="docutils literal notranslate"><span class="pre">scenedetect</span></code> ðŸŽ¬ Command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html#options">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html#detectors">Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html#commands">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/config_file.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/backends.html">Backends</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api.html"><code class="docutils literal notranslate"><span class="pre">scenedetect</span></code> ðŸŽ¬ Package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Detection Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#scenedetect.detectors.adaptive_detector.AdaptiveDetector"><code class="docutils literal notranslate"><span class="pre">AdaptiveDetector</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scenedetect.detectors.content_detector.ContentDetector"><code class="docutils literal notranslate"><span class="pre">ContentDetector</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scenedetect.detectors.hash_detector.HashDetector"><code class="docutils literal notranslate"><span class="pre">HashDetector</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scenedetect.detectors.histogram_detector.HistogramDetector"><code class="docutils literal notranslate"><span class="pre">HistogramDetector</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scenedetect.detectors.threshold_detector.ThresholdDetector"><code class="docutils literal notranslate"><span class="pre">ThresholdDetector</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="backends.html">Backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_manager.html">SceneManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="video_splitter.html">Video Splitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats_manager.html">StatsManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame_timecode.html">FrameTimecode</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_detector.html">SceneDetector</a></li>
<li class="toctree-l1"><a class="reference internal" href="video_stream.html">VideoStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Platform &amp; Logging</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html"><code class="docutils literal notranslate"><span class="pre">scenedetect</span></code> ðŸŽ¬ Package</a><ul>
      <li>Previous: <a href="../api.html" title="previous chapter"><code class="docutils literal notranslate"><span class="pre">scenedetect</span></code> ðŸŽ¬ Package</a></li>
      <li>Next: <a href="backends.html" title="next chapter">Backends</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2014-2024, Brandon Castellano.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/api/detectors.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>